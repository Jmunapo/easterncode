<ion-header>
  <ion-navbar>
    <ion-title>Project Details</ion-title>
  </ion-navbar>
</ion-header>

<ion-content class="cards-bg social-cards">

  <ion-card>

    <ion-item>
      <ion-avatar item-start>
        <img src="assets/imgs/p3.jpg">
      </ion-avatar>
      <h2>{{project.title}}</h2>
      <p>Added on {{project.timestamp | date}}</p>
      <ion-note>by {{project.by.displayName}}</ion-note>
    </ion-item>

    <img src="assets/imgs/p2.jpg">

    <ion-card-content>
      <p>{{project.summary}}</p>
    </ion-card-content>

    <ion-list no-lines>
      <ion-list-header>
         PROJECT TEAM

        <button *ngIf="user_s" ion-button color="secondary" clear icon-only medium item-end (click)="addTeamMember()">
          <ion-icon ios="ios-person-add" md="md-person-add"></ion-icon>
        </button>
        <button *ngIf="!user_s && !teammember" ion-button color="secondary" (click)="volunteer()" clear icon-only medium item-end>
          <ion-icon ios="ios-hand" md="md-hand"></ion-icon>
        </button>
      </ion-list-header>
      <ion-item *ngFor="let t of projectTeam">
         {{capitalizeFirstLetter(t.name)}} as the {{t.role}}
        <ion-icon style="cursor: pointer;" *ngIf="user_s" color="danger" (click)="removeMember(t)" item-end name="trash"></ion-icon>
        <ion-icon style="cursor: pointer;" *ngIf="!user_s && user === t.uid" color="danger" (click)="exit(t)" item-end ios="ios-close-circle" md="md-close-circle"></ion-icon>
      </ion-item>
    </ion-list>

    <ion-row>

      <ion-col align-self-center text-center>
        <button ion-button color="primary" clear small icon-start (click)="letsTalk()" align-self-center text-center>
          <ion-icon name='text'></ion-icon>
          {{comments}} Comment{{(comments !== 1)? 's': ''}}
        </button>
      </ion-col>
      <ion-col align-self-center text-center>
        <button ion-button color="primary" clear small icon-start (click)="letsTalk()" align-self-center text-center>
          <ion-icon ios="ios-chatbubbles" md="md-chatbubbles"></ion-icon>
          CHAT
        </button>
      </ion-col>
      <ion-col>
        <button ion-button color="primary" clear small icon-end (click)="like()" align-self-center text-center>
          {{likes}}
          <ion-icon ios="ios-thumbs-up" md="md-thumbs-up"></ion-icon>
        </button>
      </ion-col>
    </ion-row>
  </ion-card>
</ion-content>

<style>
  .social-cards ion-col {
    padding: 0;
  }
</style>